# Первая домашка

## Event storming модель проекта

[ES на miro](https://miro.com/app/board/uXjVNNO37oA=/?share_link_id=792654826027)

# TODO Текстом опишите логику по которой сгруппировали команды и события в контексты.
### Описание логики

Я разбил команды на следующие контексты:

- Рекрутинг котов-воркеров
- Добавление заказов
- Выполнение заказа
- Учет и выдача расходников
- Расчет зарплат и премий
- Менеджмент качества заказов
- Тотализатор серой зоны

С рекрутингом у меня не было вопросов - туда хорошо ложатся все события относительно найма, тестирования и апрувов котов.

С логикой заказов сложнее.
На первый взгляд хотелось вывести в один большой контекст - "Работа с заказами", но тут много логики и различных действий. Поэтому я попытался эту часть разбить в соответствии со стадиями прохождения заказов и связанными с этим процессами.

Тотализатор вынес отдельно, т.к. не соображу, что с ним можно сделать.

## Модель данных

[data_model.d2](/hw_1/data_model.d2)
![data model](/hw_1/data_model.png)

## Выбор реализации

По реализации я остановлюсь на асинхрнной архитектуре с несколькими крупными сервисами.
В общем они будут повоторять ES контексты за исключением добаления сервиса нотификации, который будет реагировать на события из других сервисов и слать уведомления по заданным ивентам.
Шиной данным будет любой месседж брокер - Kafka, RabbitMQ, пока я не вижу особой разницы в практическом применении.

## Спорные места

Тут у меня много сомнений по поводу моего разделения на контексты. 
- Возможно стоит все сломать и сделать заново.
- Большие сервисы могут со временем стать почти монолитами, что может сильно может усложнить изменения в них и дальнейшую разработку.
- Скорее всего я не учел кучу всего важного при формировании модели данных `:(((`

