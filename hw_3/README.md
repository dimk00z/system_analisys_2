# Третьего второго урока

## TODO

### Задачи по домашке

- попробуйте расписать стейкхолдеров по группам из урока. Попутно пофантазируете, кого потенциально мы забыли указать в списке стейкхолдеров;

- выберите один из семи архитектурных стилей, описанных в уроке. Опишите, почему вы сделали такой выбор и по каким критериям сравнивали стили (можно использовать картинку из урока со сравнением стилей);
если выбрали распределённый архитектурный стиль, опишите, какие сервисы будут отдельно, и объясните, почему каждый из сервисов должен быть отдельно от остальных;

- выберите нужный вид баз данных для каждого из полученных сервисов. Если у вас получился один монолит — определите необходимый вид базы для этого монолита. Опишите, почему вы сделали такой выбор и какие критерии использовали для выбора;

- выберите нужный стиль коммуникаций и их вид (синхронный/асинхронный). Опишите, почему вы сделали такой выбор и какие критерии использовали для выбора;

- предположите, какие фитнес-функции можно использовать для валидации итоговой системы. Можете считать, что система будет делаться с использованием любого языка программирования, следовательно, можете выбрать любые инструменты из любой экосистемы;

- сделайте ADR, опишите принятие решения по изоляции одного из элементов как изолированного сервиса.
  
### Пройдитесь по чек-листу и проверьте, что не наступили на грабли

- В домашке должны отсутствовать додуманные ситуации, связанные с сотрудниками, или требования, которых не было в изначальном списке.

- Логика нотификаций не может быть отдельным сервисом. Как и другие технические шаги реализации алгоритма бизнесов команд.

- Если используете чистый EDA-стиль —отдаёте себе отчёт в том, что с системой можно взаимодействовать только событийно (т. е. асинхронно), как со стороны клиентов, так и между элементами системы.

- Распределённый стиль состоит из минимум двух сервисов. Микросервисных монолитов не бывает.

- В ADR указаны причинно-следственные связи выбора каждого из решений.

- В одном ADR описывается только одно решение. Выбор стиля и базы данных под каждый сервис — это 1+N решений.

## Solutions

### Miro

[Home work](https://miro.com/app/board/uXjVNNO37oA=/?share_link_id=792654826027)

### Стейкхолдеры

![Матрица "Влиятние-интерес"](/hw_3/matrix.png)

![1](/hw_3/1.png)

![2](/hw_3/2.png)

![3](/hw_3/3.png)

![4](/hw_3/4.png)

### Выбор архитектурного стиля

По требованиями низкого TTM и необходимости выдерживать разную нагрузку под DDOS подходит микросервисный или service-based подход.
Судя из требований есть шансы, что конкуренты могу заддосить сервис заявок в обычные образцы, в этом месте нужно иметь возможность быстрого скалирования.
Я выберу смешанный сервисный и микросервисный подход.

Сервиса рекрутинга могут положить, что нарушит общую логику работы, поэтому для него будет своя свобственная БД с заявками(один квантор). Внутри все будет крутиться ахинхронно с помощью шины данных.

Остальные сервисы могут жить на одной БД и будут образовывать еще один квантор системы.
Взаимодействие будет асинхронными через какую-то шину данных на основе генерации событий.

### Выбор БД

Для сервиса заявок можно использовать MongoDB или похожую на основе хранения документов, т.к. тут будут много заявок в разных форматах.

Для остальной части можно взять реляционную БД типа PostgreSQL.

### Стиль коммуникаций

Все коммуникации будут в ассинхронном режиме, потому что так наши программисты могут и плюс так меньше шансов, что будут блокирующие операции, которые положат нам систему при росте нагрузок.

### Фитнес-функции

Общие

- проверка покрытия тестами не ниже 90%
- проверка периодичности релиза не реже раза в две недели
- schema-registry для проверки событий

Для сервиса заявок

- нагрузочное тестирование

### Architectural decision records
